{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TPM01\\\\LambdaSchool\\\\unit3\\\\web-sprint-challenge-advanced-web-applications\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React from \"react\";\nimport useInput from './useInput';\nimport axiosWithAuth from './axiosWithAuth';\nimport { useHistory } from 'react-router-dom';\n\nconst Login = () => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [username, setusername, handleUsername] = useInput('');\n  const [password, setPassword, handlePassword] = useInput('');\n  const history = useHistory();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const data = {\n      username: username,\n      password: password\n    };\n    axiosWithAuth().post(\"/api/login\", data).then(res => {\n      console.log(res);\n      localStorage.setItem('token', res.data.payload);\n      history.push('/protected');\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }, \"Welcome to the Bubble App!\"), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"Build a login page here\"));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/TPM01/LambdaSchool/unit3/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useInput","axiosWithAuth","useHistory","Login","username","setusername","handleUsername","password","setPassword","handlePassword","history","handleSubmit","e","preventDefault","data","post","then","res","console","log","localStorage","setItem","payload","push","catch","err"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB;AACA;AACA,QAAM,CAACC,QAAD,EAAUC,WAAV,EAAsBC,cAAtB,IAAwCN,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAM,CAACO,QAAD,EAAUC,WAAV,EAAsBC,cAAtB,IAAwCT,QAAQ,CAAC,EAAD,CAAtD;AACA,QAAMU,OAAO,GAAGR,UAAU,EAA1B;;AAEA,QAAMS,YAAY,GAAGC,CAAC,IAAI;AACxBA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,IAAI,GAAG;AACXV,MAAAA,QAAQ,EAAEA,QADC;AAEXG,MAAAA,QAAQ,EAAEA;AAFC,KAAb;AAIAN,IAAAA,aAAa,GAAGc,IAAhB,CAAqB,YAArB,EAAkCD,IAAlC,EACCE,IADD,CACMC,GAAG,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAAG,CAACH,IAAJ,CAASQ,OAAvC;AACAZ,MAAAA,OAAO,CAACa,IAAR,CAAa,YAAb;AACD,KALD,EAMCC,KAND,CAMOC,GAAG,IAAI;AACZP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACD,KARD;AAYH,GAlBC;;AAoBA,SACE,0CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCADF,EAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BAFF,CADF;AAMD,CAjCD;;AAmCA,eAAetB,KAAf","sourcesContent":["import React from \"react\";\r\nimport useInput from './useInput';\r\nimport axiosWithAuth from './axiosWithAuth';\r\nimport {useHistory} from 'react-router-dom';\r\n\r\nconst Login = () => {\r\n  // make a post request to retrieve a token from the api\r\n  // when you have handled the token, navigate to the BubblePage route\r\n  const [username,setusername,handleUsername] = useInput('')\r\n  const [password,setPassword,handlePassword] = useInput('')\r\n  const history = useHistory()\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault()\r\n    const data = {\r\n      username: username,\r\n      password: password\r\n    }\r\n    axiosWithAuth().post(\"/api/login\",data)\r\n    .then(res => {\r\n      console.log(res)\r\n      localStorage.setItem('token', res.data.payload)\r\n      history.push('/protected')\r\n    })\r\n    .catch(err => {\r\n      console.log(err)\r\n    })\r\n\r\n\r\n\r\n}\r\n\r\n  return (\r\n    <>\r\n      <h1>Welcome to the Bubble App!</h1>\r\n      <p>Build a login page here</p>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}