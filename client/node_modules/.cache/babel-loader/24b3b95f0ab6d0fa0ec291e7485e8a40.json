{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TPM01\\\\LambdaSchool\\\\unit3\\\\web-sprint-challenge-advanced-web-applications\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React from \"react\";\nimport useInput from \"./useInput\";\nimport axiosWithAuth from \"./axiosWithAuth\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Login = () => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [username, setusername, handleUsername] = useInput(\"\");\n  const [password, setPassword, handlePassword] = useInput(\"\");\n  const history = useHistory();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const data = {\n      username: username,\n      password: password\n    };\n    axiosWithAuth().post(\"/api/login\", data).then(res => {\n      console.log(res);\n      localStorage.setItem(\"token\", res.data.payload);\n      history.push(\"/protected\");\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"username\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    value: username,\n    onChange: e => handleUsername(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, \"password\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"password\",\n    value: password,\n    onChange: e => handlePassword(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38\n    },\n    __self: this\n  }, \"login\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/TPM01/LambdaSchool/unit3/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useInput","axiosWithAuth","useHistory","Login","username","setusername","handleUsername","password","setPassword","handlePassword","history","handleSubmit","e","preventDefault","data","post","then","res","console","log","localStorage","setItem","payload","push","catch","err","target","value"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB;AACA;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,EAAwBC,cAAxB,IAA0CN,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM,CAACO,QAAD,EAAWC,WAAX,EAAwBC,cAAxB,IAA0CT,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAMU,OAAO,GAAGR,UAAU,EAA1B;;AAEA,QAAMS,YAAY,GAAIC,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,IAAI,GAAG;AACXV,MAAAA,QAAQ,EAAEA,QADC;AAEXG,MAAAA,QAAQ,EAAEA;AAFC,KAAb;AAIAN,IAAAA,aAAa,GACVc,IADH,CACQ,YADR,EACsBD,IADtB,EAEGE,IAFH,CAESC,GAAD,IAAS;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAAG,CAACH,IAAJ,CAASQ,OAAvC;AACAZ,MAAAA,OAAO,CAACa,IAAR,CAAa,YAAb;AACD,KANH,EAOGC,KAPH,CAOUC,GAAD,IAAS;AACdP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACD,KATH;AAUD,GAhBD;;AAkBA,SACE,0CACE;AAAM,IAAA,QAAQ,EAAEd,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,UAAxB;AAAmC,IAAA,KAAK,EAAEP,QAA1C;AAAoD,IAAA,QAAQ,EAAEQ,CAAC,IAAIN,cAAc,CAACM,CAAC,CAACc,MAAF,CAASC,KAAV,CAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHF,EAIE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,IAAI,EAAC,UAAxB;AAAmC,IAAA,KAAK,EAAEpB,QAA1C;AAAoD,IAAA,QAAQ,EAAEK,CAAC,IAAIH,cAAc,CAACG,CAAC,CAACc,MAAF,CAASC,KAAV,CAAjF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,EAKE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aALF,CADF,CADF;AAWD,CApCD;;AAsCA,eAAexB,KAAf","sourcesContent":["import React from \"react\";\r\nimport useInput from \"./useInput\";\r\nimport axiosWithAuth from \"./axiosWithAuth\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Login = () => {\r\n  // make a post request to retrieve a token from the api\r\n  // when you have handled the token, navigate to the BubblePage route\r\n  const [username, setusername, handleUsername] = useInput(\"\");\r\n  const [password, setPassword, handlePassword] = useInput(\"\");\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const data = {\r\n      username: username,\r\n      password: password,\r\n    };\r\n    axiosWithAuth()\r\n      .post(\"/api/login\", data)\r\n      .then((res) => {\r\n        console.log(res);\r\n        localStorage.setItem(\"token\", res.data.payload);\r\n        history.push(\"/protected\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>username</label>\r\n        <input type='text' name='username' value={username} onChange={e => handleUsername(e.target.value)} ></input>\r\n        <label>password</label>\r\n        <input type='text' name='password' value={password} onChange={e => handlePassword(e.target.value)} ></input>\r\n        <button type='submit'>login</button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}