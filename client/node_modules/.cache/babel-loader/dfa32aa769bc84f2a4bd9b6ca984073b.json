{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\TPM01\\\\LambdaSchool\\\\unit3\\\\web-sprint-challenge-advanced-web-applications\\\\client\\\\src\\\\components\\\\Login.js\";\nimport React from \"react\";\nimport useInput from \"./useInput\";\nimport axiosWithAuth from \"./axiosWithAuth\";\nimport { useHistory } from \"react-router-dom\";\n\nconst Login = () => {\n  // make a post request to retrieve a token from the api\n  // when you have handled the token, navigate to the BubblePage route\n  const [username, setusername, handleUsername] = useInput(\"\");\n  const [pass, setPassword, handlePassword] = useInput(\"\");\n  const history = useHistory();\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const data = {\n      username: username,\n      password: password\n    };\n    axiosWithAuth().post(\"/api/login\", data).then(res => {\n      console.log(res);\n      localStorage.setItem(\"token\", res.data.payload);\n      history.push(\"/protected\");\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34\n    },\n    __self: this\n  }, \"username\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"username\",\n    value: username,\n    onChange: e => handleUsername(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35\n    },\n    __self: this\n  }), React.createElement(\"label\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"password\"), React.createElement(\"input\", {\n    type: \"text\",\n    name: \"password\",\n    value: password,\n    onChange: e => handlePassword(e.target.value),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42\n    },\n    __self: this\n  }), React.createElement(\"button\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"login\")));\n};\n\nexport default Login;","map":{"version":3,"sources":["C:/Users/TPM01/LambdaSchool/unit3/web-sprint-challenge-advanced-web-applications/client/src/components/Login.js"],"names":["React","useInput","axiosWithAuth","useHistory","Login","username","setusername","handleUsername","pass","setPassword","handlePassword","history","handleSubmit","e","preventDefault","data","password","post","then","res","console","log","localStorage","setItem","payload","push","catch","err","target","value"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAClB;AACA;AACA,QAAM,CAACC,QAAD,EAAWC,WAAX,EAAwBC,cAAxB,IAA0CN,QAAQ,CAAC,EAAD,CAAxD;AACA,QAAM,CAACO,IAAD,EAAOC,WAAP,EAAoBC,cAApB,IAAsCT,QAAQ,CAAC,EAAD,CAApD;AACA,QAAMU,OAAO,GAAGR,UAAU,EAA1B;;AAEA,QAAMS,YAAY,GAAIC,CAAD,IAAO;AAC1BA,IAAAA,CAAC,CAACC,cAAF;AACA,UAAMC,IAAI,GAAG;AACXV,MAAAA,QAAQ,EAAEA,QADC;AAEXW,MAAAA,QAAQ,EAAEA;AAFC,KAAb;AAIAd,IAAAA,aAAa,GACVe,IADH,CACQ,YADR,EACsBF,IADtB,EAEGG,IAFH,CAESC,GAAD,IAAS;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAG,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAAG,CAACJ,IAAJ,CAASS,OAAvC;AACAb,MAAAA,OAAO,CAACc,IAAR,CAAa,YAAb;AACD,KANH,EAOGC,KAPH,CAOUC,GAAD,IAAS;AACdP,MAAAA,OAAO,CAACC,GAAR,CAAYM,GAAZ;AACD,KATH;AAUD,GAhBD;;AAkBA,SACE,0CACE;AAAM,IAAA,QAAQ,EAAEf,YAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,EAEE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,KAAK,EAAEP,QAHT;AAIE,IAAA,QAAQ,EAAGQ,CAAD,IAAON,cAAc,CAACM,CAAC,CAACe,MAAF,CAASC,KAAV,CAJjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,EAQE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARF,EASE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,IAAI,EAAC,UAFP;AAGE,IAAA,KAAK,EAAEb,QAHT;AAIE,IAAA,QAAQ,EAAGH,CAAD,IAAOH,cAAc,CAACG,CAAC,CAACe,MAAF,CAASC,KAAV,CAJjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IATF,EAeE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAfF,CADF,CADF;AAqBD,CA9CD;;AAgDA,eAAezB,KAAf","sourcesContent":["import React from \"react\";\r\nimport useInput from \"./useInput\";\r\nimport axiosWithAuth from \"./axiosWithAuth\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst Login = () => {\r\n  // make a post request to retrieve a token from the api\r\n  // when you have handled the token, navigate to the BubblePage route\r\n  const [username, setusername, handleUsername] = useInput(\"\");\r\n  const [pass, setPassword, handlePassword] = useInput(\"\");\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const data = {\r\n      username: username,\r\n      password: password,\r\n    };\r\n    axiosWithAuth()\r\n      .post(\"/api/login\", data)\r\n      .then((res) => {\r\n        console.log(res);\r\n        localStorage.setItem(\"token\", res.data.payload);\r\n        history.push(\"/protected\");\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <form onSubmit={handleSubmit}>\r\n        <label>username</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"username\"\r\n          value={username}\r\n          onChange={(e) => handleUsername(e.target.value)}\r\n        ></input>\r\n        <label>password</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"password\"\r\n          value={password}\r\n          onChange={(e) => handlePassword(e.target.value)}\r\n        ></input>\r\n        <button type=\"submit\">login</button>\r\n      </form>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}